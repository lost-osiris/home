(function() {
  var Beautifiers, EventEmitter, Languages, Promise, _, _plus, allowUnsafeEval, editorconfig, extend, fs, logger, path, pkg, strip, trackingId, ua, version, yaml,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend1 = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    slice = [].slice;

  _ = require('lodash');

  _plus = require('underscore-plus');

  Promise = require('bluebird');

  Languages = require('../languages/');

  path = require('path');

  logger = require('../logger')(__filename);

  EventEmitter = require('events').EventEmitter;

  extend = null;

  ua = null;

  fs = null;

  strip = null;

  yaml = null;

  editorconfig = null;

  allowUnsafeEval = require('loophole').allowUnsafeEval;

  allowUnsafeEval(function() {
    return ua = require("universal-analytics");
  });

  pkg = require("../../package.json");

  version = pkg.version;

  trackingId = "UA-52729731-2";


  /*
  Register all supported beautifiers
   */

  module.exports = Beautifiers = (function(superClass) {
    extend1(Beautifiers, superClass);


    /*
      List of beautifier names
    
      To register a beautifier add its name here
     */

    Beautifiers.prototype.beautifierNames = ['uncrustify', 'autopep8', 'coffee-formatter', 'coffee-fmt', 'cljfmt', 'clang-format', 'crystal', 'dfmt', 'elm-format', 'hh_format', 'htmlbeautifier', 'csscomb', 'gherkin', 'gofmt', 'latex-beautify', 'fortran-beautifier', 'js-beautify', 'jscs', 'lua-beautifier', 'ocp-indent', 'perltidy', 'php-cs-fixer', 'phpcbf', 'prettydiff', 'pug-beautify', 'puppet-fix', 'remark', 'rubocop', 'ruby-beautify', 'rustfmt', 'sass-convert', 'sqlformat', 'stylish-haskell', 'tidy-markdown', 'typescript-formatter', 'vue-beautifier', 'yapf', 'erl_tidy', 'marko-beautifier', 'formatR', 'beautysh'];


    /*
      List of loaded beautifiers
    
      Autogenerated in `constructor` from `beautifierNames`
     */

    Beautifiers.prototype.beautifiers = null;


    /*
      All beautifier options
    
      Autogenerated in `constructor`
     */

    Beautifiers.prototype.options = null;


    /*
      Languages
     */

    Beautifiers.prototype.languages = new Languages();


    /*
      Constructor
     */

    function Beautifiers() {
      this.getOptions = bind(this.getOptions, this);
      this.beautifiers = _.map(this.beautifierNames, function(name) {
        var Beautifier;
        Beautifier = require("./" + name);
        return new Beautifier();
      });
      try {
        this.options = require('../options.json');
      } catch (error1) {
        console.warn('Beautifier options not found.');
        this.options = {};
      }
    }


    /*
      From https://github.com/atom/notifications/blob/01779ade79e7196f1603b8c1fa31716aa4a33911/lib/notification-issue.coffee#L130
     */

    Beautifiers.prototype.encodeURI = function(str) {
      str = encodeURI(str);
      return str.replace(/#/g, '%23').replace(/;/g, '%3B');
    };

    Beautifiers.prototype.getBeautifiers = function(language) {
      return _.filter(this.beautifiers, function(beautifier) {
        return _.includes(beautifier.languages, language);
      });
    };

    Beautifiers.prototype.getBeautifierForLanguage = function(language) {
      var beautifier, beautifiers, preferredBeautifierName;
      beautifiers = this.getBeautifiers(language.name);
      logger.verbose('beautifiers', _.map(beautifiers, 'name'));
      preferredBeautifierName = atom.config.get("atom-beautify." + language.namespace + ".default_beautifier");
      beautifier = _.find(beautifiers, function(beautifier) {
        return beautifier.name === preferredBeautifierName;
      }) || beautifiers[0];
      return beautifier;
    };

    Beautifiers.prototype.getLanguage = function(grammar, filePath) {
      var fileExtension, language, languages;
      fileExtension = path.extname(filePath);
      fileExtension = fileExtension.substr(1);
      languages = this.languages.getLanguages({
        grammar: grammar,
        extension: fileExtension
      });
      logger.verbose(languages, grammar, fileExtension);
      if (languages.length < 1) {
        return null;
      } else {
        return language = languages[0];
      }
    };

    Beautifiers.prototype.getOptionsForLanguage = function(allOptions, language) {
      var options, selections;
      selections = (language.fallback || []).concat([language.namespace]);
      return options = this.getOptions(selections, allOptions) || {};
    };

    Beautifiers.prototype.transformOptions = function(beautifier, languageName, options) {
      var beautifierOptions, field, fields, fn, i, op, transformedOptions, vals;
      beautifierOptions = beautifier.options[languageName];
      if (typeof beautifierOptions === "boolean") {
        return options;
      } else if (typeof beautifierOptions === "object") {
        transformedOptions = {};
        for (field in beautifierOptions) {
          op = beautifierOptions[field];
          if (typeof op === "string") {
            transformedOptions[field] = options[op];
          } else if (typeof op === "function") {
            transformedOptions[field] = op(options[field]);
          } else if (typeof op === "boolean") {
            if (op === true) {
              transformedOptions[field] = options[field];
            }
          } else if (_.isArray(op)) {
            fields = 2 <= op.length ? slice.call(op, 0, i = op.length - 1) : (i = 0, []), fn = op[i++];
            vals = _.map(fields, function(f) {
              return options[f];
            });
            transformedOptions[field] = fn.apply(null, vals);
          }
        }
        return transformedOptions;
      } else {
        logger.warn("Unsupported Language options: ", beautifierOptions);
        return options;
      }
    };

    Beautifiers.prototype.trackEvent = function(payload) {
      return this.track("event", payload);
    };

    Beautifiers.prototype.trackTiming = function(payload) {
      return this.track("timing", payload);
    };

    Beautifiers.prototype.track = function(type, payload) {
      var error, userId, uuid;
      try {
        if (atom.config.get("atom-beautify.general.analytics")) {
          if (!atom.config.get("atom-beautify.general._analyticsUserId")) {
            uuid = require("node-uuid");
            atom.config.set("atom-beautify.general._analyticsUserId", uuid.v4());
          }
          userId = atom.config.get("atom-beautify.general._analyticsUserId");
          if (this.analytics == null) {
            this.analytics = new ua(trackingId, userId, {
              headers: {
                "User-Agent": navigator.userAgent
              }
            });
          }
          return this.analytics[type](payload).send();
        }
      } catch (error1) {
        error = error1;
        return logger.error(error);
      }
    };

    Beautifiers.prototype.beautify = function(text, allOptions, grammar, filePath, arg) {
      var onSave;
      onSave = (arg != null ? arg : {}).onSave;
      return Promise.all(allOptions).then((function(_this) {
        return function(allOptions) {
          return new Promise(function(resolve, reject) {
            var beautifier, beautifyOnSave, context, detail, fileExtension, langDisabled, language, languages, options, repoBugsUrl, startTime, title, unsupportedGrammar;
            logger.info('beautify', text, allOptions, grammar, filePath, onSave);
            logger.verbose(allOptions);
            fileExtension = path.extname(filePath);
            fileExtension = fileExtension.substr(1);
            languages = _this.languages.getLanguages({
              grammar: grammar,
              extension: fileExtension
            });
            logger.verbose(languages, grammar, fileExtension);
            if (languages.length < 1) {
              unsupportedGrammar = true;
              logger.verbose('Unsupported language');
              if (onSave) {
                return resolve(null);
              }
            } else {
              language = languages[0];
              logger.verbose("Language " + language.name + " supported");
              langDisabled = atom.config.get("atom-beautify." + language.namespace + ".disabled");
              unsupportedGrammar = false;
              if (langDisabled) {
                logger.verbose("Language " + language.name + " is disabled");
                return resolve(null);
              }
              beautifyOnSave = atom.config.get("atom-beautify." + language.namespace + ".beautify_on_save");
              if (onSave && !beautifyOnSave) {
                logger.verbose("Beautify on save is disabled for language " + language.name);
                return resolve(null);
              }
              options = _this.getOptionsForLanguage(allOptions, language);
              logger.verbose(grammar, language);
              logger.verbose("language options: " + (JSON.stringify(options, null, 4)));
              logger.verbose(language.name, filePath, options, allOptions);
              beautifier = _this.getBeautifierForLanguage(language);
              if (beautifier == null) {
                unsupportedGrammar = true;
                logger.verbose('Beautifier for language not found');
              } else {
                logger.verbose('beautifier', beautifier.name);
                options = _this.transformOptions(beautifier, language.name, options);
                _this.emit("beautify::start");
                context = {
                  filePath: filePath
                };
                startTime = new Date();
                beautifier.beautify(text, language.name, options, context).then(function(result) {
                  resolve(result);
                  _this.trackTiming({
                    utc: "Beautify",
                    utv: language != null ? language.name : void 0,
                    utt: new Date() - startTime,
                    utl: version
                  });
                  if (!result) {
                    return _this.trackEvent({
                      ec: version,
                      ea: "Beautify:Empty",
                      el: language != null ? language.name : void 0
                    });
                  }
                })["catch"](function(error) {
                  reject(error);
                  return _this.trackEvent({
                    ec: version,
                    ea: "Beautify:Error",
                    el: language != null ? language.name : void 0
                  });
                })["finally"](function() {
                  return _this.emit("beautify::end");
                });
              }
            }
            _this.trackEvent({
              ec: version,
              ea: "Beautify",
              el: language != null ? language.name : void 0
            });
            if (onSave) {
              _this.trackEvent({
                ec: version,
                ea: "Beautify:OnSave",
                el: language != null ? language.name : void 0
              });
            } else {
              _this.trackEvent({
                ec: version,
                ea: "Beautify:Manual",
                el: language != null ? language.name : void 0
              });
            }
            if (unsupportedGrammar) {
              if (atom.config.get("atom-beautify.general.muteUnsupportedLanguageErrors")) {
                return resolve(null);
              } else {
                repoBugsUrl = pkg.bugs.url;
                title = "Atom Beautify could not find a supported beautifier for this file";
                detail = "Atom Beautify could not determine a supported beautifier to handle this file with grammar \"" + grammar + "\" and extension \"" + fileExtension + "\". If you would like to request support for this file and its language, please create an issue for Atom Beautify at " + repoBugsUrl;
                if (typeof atom !== "undefined" && atom !== null) {
                  atom.notifications.addWarning(title, {
                    detail: detail,
                    dismissable: true
                  });
                }
                return resolve(null);
              }
            }
          });
        };
      })(this));
    };

    Beautifiers.prototype.findFileResults = {};

    Beautifiers.prototype.getUserHome = function() {
      return process.env.HOME || process.env.HOMEPATH || process.env.USERPROFILE;
    };

    Beautifiers.prototype.verifyExists = function(fullPath) {
      if (fs == null) {
        fs = require("fs");
      }
      if (fs.existsSync(fullPath)) {
        return fullPath;
      } else {
        return null;
      }
    };


    /*
      Searches for a file with a specified name starting with
      'dir' and going all the way up either until it finds the file
      or hits the root.
    
      @param {string} name filename to search for (e.g. .jshintrc)
      @param {string} dir directory to start search from (default:
      current working directory)
      @param {boolean} upwards should recurse upwards on failure? (default: true)
    
      @returns {string} normalized filename
     */

    Beautifiers.prototype.findFile = function(name, dir, upwards) {
      var filename, parent;
      if (upwards == null) {
        upwards = true;
      }
      if (path == null) {
        path = require("path");
      }
      dir = dir || process.cwd();
      filename = path.normalize(path.join(dir, name));
      if (this.findFileResults[filename] !== void 0) {
        return this.findFileResults[filename];
      }
      parent = path.resolve(dir, "../");
      if (this.verifyExists(filename)) {
        this.findFileResults[filename] = filename;
        return filename;
      }
      if (dir === parent) {
        this.findFileResults[filename] = null;
        return null;
      }
      if (upwards) {
        return findFile(name, parent);
      } else {
        return null;
      }
    };


    /*
      Tries to find a configuration file in either project directory
      or in the home directory. Configuration files are named
      '.jsbeautifyrc'.
    
      @param {string} config name of the configuration file
      @param {string} file path to the file to be linted
      @param {boolean} upwards should recurse upwards on failure? (default: true)
    
      @returns {string} a path to the config file
     */

    Beautifiers.prototype.findConfig = function(config, file, upwards) {
      var dir, envs, home, proj;
      if (upwards == null) {
        upwards = true;
      }
      if (path == null) {
        path = require("path");
      }
      dir = path.dirname(path.resolve(file));
      envs = this.getUserHome();
      home = path.normalize(path.join(envs, config));
      proj = this.findFile(config, dir, upwards);
      logger.verbose(dir, proj, home);
      if (proj) {
        return proj;
      }
      if (this.verifyExists(home)) {
        return home;
      }
      return null;
    };

    Beautifiers.prototype.getConfigOptionsFromSettings = function(langs) {
      var config, options;
      config = atom.config.get('atom-beautify');
      return options = _.pick(config, langs);
    };

    Beautifiers.prototype.getConfig = function(startPath, upwards) {
      var configPath, contents, detail, e, error, externalOptions, jsonError, title;
      if (upwards == null) {
        upwards = true;
      }
      startPath = (typeof startPath === "string" ? startPath : "");
      if (!startPath) {
        return {};
      }
      configPath = this.findConfig(".jsbeautifyrc", startPath, upwards);
      logger.verbose('configPath', configPath, startPath, upwards);
      externalOptions = void 0;
      if (configPath) {
        if (fs == null) {
          fs = require("fs");
        }
        try {
          contents = fs.readFileSync(configPath, {
            encoding: "utf8"
          });
        } catch (error1) {
          error = error1;
          contents = null;
        }
        if (!contents) {
          externalOptions = {};
        } else {
          try {
            if (strip == null) {
              strip = require("strip-json-comments");
            }
            externalOptions = JSON.parse(strip(contents));
          } catch (error1) {
            e = error1;
            jsonError = e.message;
            logger.debug("Failed parsing config as JSON: " + configPath);
            try {
              if (yaml == null) {
                yaml = require("yaml-front-matter");
              }
              externalOptions = yaml.safeLoad(contents);
            } catch (error1) {
              e = error1;
              title = "Atom Beautify failed to parse config as JSON or YAML";
              detail = "Parsing '.jsbeautifyrc' at " + configPath + "\nJSON: " + jsonError + "\nYAML: " + e.message;
              if (typeof atom !== "undefined" && atom !== null) {
                atom.notifications.addWarning(title, {
                  detail: detail,
                  dismissable: true
                });
              }
              logger.debug("Failed parsing config as YAML and JSON: " + configPath);
              externalOptions = {};
            }
          }
        }
      } else {
        externalOptions = {};
      }
      return externalOptions;
    };

    Beautifiers.prototype.getOptionsForPath = function(editedFilePath, editor) {
      var allOptions, configOptions, editorConfigOptions, editorOptions, homeOptions, isNested, isSelection, languageNamespaces, p, pc, pf, projectOptions, softTabs, tabLength, userHome;
      languageNamespaces = this.languages.namespaces;
      editorOptions = {};
      if (editor != null) {
        isSelection = !!editor.getSelectedText();
        softTabs = editor.softTabs;
        tabLength = editor.getTabLength();
        editorOptions = {
          indent_size: (softTabs ? tabLength : 1),
          indent_char: (softTabs ? " " : "\t"),
          indent_with_tabs: !softTabs
        };
      }
      configOptions = this.getConfigOptionsFromSettings(languageNamespaces);
      userHome = this.getUserHome();
      homeOptions = this.getConfig(path.join(userHome, "FAKEFILENAME"), false);
      if (editedFilePath != null) {
        if (editorconfig == null) {
          editorconfig = require('editorconfig');
        }
        editorConfigOptions = editorconfig.parse(editedFilePath).then(function(editorConfigOptions) {
          logger.verbose('editorConfigOptions', editorConfigOptions);
          if (editorConfigOptions.indent_style === 'space') {
            editorConfigOptions.indent_char = " ";
          } else if (editorConfigOptions.indent_style === 'tab') {
            editorConfigOptions.indent_char = "\t";
            editorConfigOptions.indent_with_tabs = true;
            if (editorConfigOptions.tab_width) {
              editorConfigOptions.indent_size = editorConfigOptions.tab_width;
            }
          }
          return {
            _default: editorConfigOptions
          };
        });
        projectOptions = [];
        p = path.dirname(editedFilePath);
        while (p !== path.resolve(p, "../")) {
          pf = path.join(p, "FAKEFILENAME");
          pc = this.getConfig(pf, false);
          isNested = this.isNestedOptions(pc);
          if (!isNested) {
            pc = {
              _default: pc
            };
          }
          projectOptions.push(pc);
          p = path.resolve(p, "../");
        }
      } else {
        editorConfigOptions = {};
        projectOptions = [];
      }
      allOptions = [
        {
          _default: editorOptions
        }, configOptions, {
          _default: homeOptions
        }, editorConfigOptions
      ];
      projectOptions.reverse();
      allOptions = allOptions.concat(projectOptions);
      return allOptions;
    };

    Beautifiers.prototype.isNestedOptions = function(currOptions) {
      var containsNested, key;
      containsNested = false;
      key = void 0;
      if (currOptions._default) {
        return true;
      }
      for (key in currOptions) {
        if (_.indexOf(this.languages.namespaces, key) >= 0 && typeof currOptions[key] === "object") {
          containsNested = true;
          break;
        }
      }
      return containsNested;
    };

    Beautifiers.prototype.getOptions = function(selections, allOptions) {
      var options, self;
      self = this;
      if (_ == null) {
        _ = require("lodash");
      }
      if (extend == null) {
        extend = require("extend");
      }
      logger.verbose('getOptions selections', selections, allOptions);
      options = _.reduce(allOptions, (function(_this) {
        return function(result, currOptions) {
          var collectedConfig, containsNested, i, len, selection;
          collectedConfig = currOptions._default || {};
          containsNested = _this.isNestedOptions(currOptions);
          logger.verbose(containsNested, currOptions);
          if (!containsNested) {
            currOptions = {
              _default: currOptions
            };
          }
          for (i = 0, len = selections.length; i < len; i++) {
            selection = selections[i];
            logger.verbose('options', selection, currOptions[selection]);
            _.merge(collectedConfig, currOptions[selection]);
            logger.verbose('options', selection, collectedConfig);
          }
          return extend(result, collectedConfig);
        };
      })(this), {});
      return options;
    };

    return Beautifiers;

  })(EventEmitter);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvbW93ZW5zLy5hdG9tL3BhY2thZ2VzL2F0b20tYmVhdXRpZnkvc3JjL2JlYXV0aWZpZXJzL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUEsMkpBQUE7SUFBQTs7Ozs7RUFBQSxDQUFBLEdBQUksT0FBQSxDQUFRLFFBQVI7O0VBQ0osS0FBQSxHQUFRLE9BQUEsQ0FBUSxpQkFBUjs7RUFDUixPQUFBLEdBQVUsT0FBQSxDQUFRLFVBQVI7O0VBQ1YsU0FBQSxHQUFZLE9BQUEsQ0FBUSxlQUFSOztFQUNaLElBQUEsR0FBTyxPQUFBLENBQVEsTUFBUjs7RUFDUCxNQUFBLEdBQVMsT0FBQSxDQUFRLFdBQVIsQ0FBQSxDQUFxQixVQUFyQjs7RUFDUixlQUFnQixPQUFBLENBQVEsUUFBUjs7RUFHakIsTUFBQSxHQUFTOztFQUNULEVBQUEsR0FBSzs7RUFDTCxFQUFBLEdBQUs7O0VBQ0wsS0FBQSxHQUFROztFQUNSLElBQUEsR0FBTzs7RUFDUCxZQUFBLEdBQWU7O0VBR2Qsa0JBQW1CLE9BQUEsQ0FBUSxVQUFSOztFQUNwQixlQUFBLENBQWdCLFNBQUE7V0FDZCxFQUFBLEdBQUssT0FBQSxDQUFRLHFCQUFSO0VBRFMsQ0FBaEI7O0VBRUEsR0FBQSxHQUFNLE9BQUEsQ0FBUSxvQkFBUjs7RUFDTixPQUFBLEdBQVUsR0FBRyxDQUFDOztFQUdkLFVBQUEsR0FBYTs7O0FBRWI7Ozs7RUFHQSxNQUFNLENBQUMsT0FBUCxHQUF1Qjs7OztBQUNyQjs7Ozs7OzBCQUtBLGVBQUEsR0FBa0IsQ0FDaEIsWUFEZ0IsRUFFaEIsVUFGZ0IsRUFHaEIsa0JBSGdCLEVBSWhCLFlBSmdCLEVBS2hCLFFBTGdCLEVBTWhCLGNBTmdCLEVBT2hCLFNBUGdCLEVBUWhCLE1BUmdCLEVBU2hCLFlBVGdCLEVBVWhCLFdBVmdCLEVBV2hCLGdCQVhnQixFQVloQixTQVpnQixFQWFoQixTQWJnQixFQWNo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J3VuZGVyc2NvcmUtcGx1cycpXG5Qcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKVxuTGFuZ3VhZ2VzID0gcmVxdWlyZSgnLi4vbGFuZ3VhZ2VzLycpXG5wYXRoID0gcmVxdWlyZSgncGF0aCcpXG5sb2dnZXIgPSByZXF1aXJlKCcuLi9sb2dnZXInKShfX2ZpbGVuYW1lKVxue0V2ZW50RW1pdHRlcn0gPSByZXF1aXJlICdldmVudHMnXG5cbiMgTGF6eSBsb2FkZWQgZGVwZW5kZW5jaWVzXG5leHRlbmQgPSBudWxsXG51YSA9IG51bGxcbmZzID0gbnVsbFxuc3RyaXAgPSBudWxsXG55YW1sID0gbnVsbFxuZWRpdG9yY29uZmlnID0gbnVsbFxuXG4jIE1pc2NcbnthbGxvd1Vuc2FmZUV2YWx9ID0gcmVxdWlyZSAnbG9vcGhvbGUnXG5hbGxvd1Vuc2FmZUV2YWwgLT5cbiAgdWEgPSByZXF1aXJlKFwidW5pdmVyc2FsLWFuYWx5dGljc1wiKVxucGtnID0gcmVxdWlyZShcIi4uLy4uL3BhY2thZ2UuanNvblwiKVxudmVyc2lvbiA9IHBrZy52ZXJzaW9uXG5cbiMgQW5hbHl0aWNzXG50cmFja2luZ0lkID0gXCJVQS01MjcyOTczMS0yXCJcblxuIyMjXG5SZWdpc3RlciBhbGwgc3VwcG9ydGVkIGJlYXV0aWZpZXJzXG4jIyNcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQmVhdXRpZmllcnMgZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAgIyMjXG4gICAgTGlzdCBvZiBiZWF1dGlmaWVyIG5hbWVzXG5cbiAgICBUbyByZWdpc3RlciBhIGJlYXV0aWZpZXIgYWRkIGl0cyBuYW1lIGhlcmVcbiAgIyMjXG4gIGJlYXV0aWZpZXJOYW1lcyA6IFtcbiAgICAndW5jcnVzdGlmeSdcbiAgICAnYXV0b3BlcDgnXG4gICAgJ2NvZmZlZS1mb3JtYXR0ZXInXG4gICAgJ2NvZmZlZS1mbXQnXG4gICAgJ2NsamZtdCdcbiAgICAnY2xhbmctZm9ybWF0J1xuICAgICdjcnlzdGFsJ1xuICAgICdkZm10J1xuICAgICdlbG0tZm9ybWF0J1xuICAgICdoaF9mb3JtYXQnXG4gICAgJ2h0bWxiZWF1dGlmaWVyJ1xuICAgICdjc3Njb21iJ1xuICAgICdnaGVya2luJ1xuICAgICdnb2ZtdCdcbiAgICAnbGF0ZXgtYmVhdXRpZnknXG4gICAgJ2ZvcnRyYW4tYmVhdXRpZmllcidcbiAgICAnanMtYmVhdXRpZnknXG4gICAgJ2pzY3MnXG4gICAgJ2x1YS1iZWF1dGlmaWVyJ1xuICAgICdvY3AtaW5kZW50J1xuICAgICdwZXJsdGlkeSdcbiAgICAncGhwLWNzLWZpeGVyJ1xuICAgICdwaHBjYmYnXG4gICAgJ3ByZXR0eWRpZmYnXG4gICAgJ3B1Zy1iZWF1dGlmeSdcbiAgICAncHVwcGV0LWZpeCdcbiAgICAncmVtYXJrJ1xuICAgICdydWJvY29wJ1xuICAgICdydWJ5LWJlYXV0aWZ5J1xuICAgICdydXN0Zm10J1xuICAgICdzYXNzLWNvbnZlcnQnXG4gICAgJ3NxbGZvcm1hdCdcbiAgICAnc3R5bGlzaC1oYXNrZWxsJ1xuICAgICd0aWR5LW1hcmtkb3duJ1xuICAgICd0eXBlc2NyaXB0LWZvcm1hdHRlcidcbiAgICAndnVlLWJlYXV0aWZpZXInXG4gICAgJ3lhcGYnXG4gICAgJ2VybF90aWR5J1xuICAgICdtYXJrby1iZWF1dGlmaWVyJ1xuICAgICdmb3JtYXRSJ1xuICAgICdiZWF1dHlzaCdcbiAgXVxuXG4gICMjI1xuICAgIExpc3Qgb2YgbG9hZGVkIGJlYXV0aWZpZXJzXG5cbiAgICBBdXRvZ2VuZXJhdGVkIGluIGBjb25zdHJ1Y3RvcmAgZnJvbSBgYmVhdXRpZmllck5hbWVzYFxuICAjIyNcbiAgYmVhdXRpZmllcnMgOiBudWxsXG5cbiAgIyMjXG4gICAgQWxsIGJlYXV0aWZpZXIgb3B0aW9uc1xuXG4gICAgQXV0b2dlbmVyYXRlZCBpbiBgY29uc3RydWN0b3JgXG4gICMjI1xuICBvcHRpb25zIDogbnVsbFxuXG4gICMjI1xuICAgIExhbmd1YWdlc1xuICAjIyNcbiAgbGFuZ3VhZ2VzIDogbmV3IExhbmd1YWdlcygpXG5cbiAgIyMjXG4gICAgQ29uc3RydWN0b3JcbiAgIyMjXG4gIGNvbnN0cnVjdG9yIDogLT5cblxuICAgICMgTG9hZCBiZWF1dGlmaWVyc1xuICAgIEBiZWF1dGlmaWVycyA9IF8ubWFwKCBAYmVhdXRpZmllck5hbWVzLCAobmFtZSkgLT5cbiAgICAgIEJlYXV0aWZpZXIgPSByZXF1aXJlKFwiLi8je25hbWV9XCIpXG4gICAgICBuZXcgQmVhdXRpZmllcigpXG4gICAgKVxuXG4gICAgdHJ5XG4gICAgICBAb3B0aW9ucyA9IHJlcXVpcmUoJy4uL29wdGlvbnMuanNvbicpXG4gICAgY2F0Y2hcbiAgICAgIGNvbnNvbGUud2FybignQmVhdXRpZmllciBvcHRpb25zIG5vdCBmb3VuZC4nKVxuICAgICAgQG9wdGlvbnMgPSB7fVxuXG4gICMjI1xuICAgIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2F0b20vbm90aWZpY2F0aW9ucy9ibG9iLzAxNzc5YWRlNzllNzE5NmYxNjAzYjhjMWZhMzE3MTZhYTRhMzM5MTEvbGliL25vdGlmaWNhdGlvbi1pc3N1ZS5jb2ZmZWUjTDEzMFxuICAjIyNcbiAgZW5jb2RlVVJJIDogKHN0cikgLT5cbiAgICBzdHIgPSBlbmNvZGVVUkkoc3RyKVxuICAgIHN0ci5yZXBsYWNlKC8jL2csICclMjMnKS5yZXBsYWNlKC87L2csICclM0InKVxuXG5cbiAgZ2V0QmVhdXRpZmllcnMgOiAobGFuZ3VhZ2UpIC0+XG5cbiAgICAjIGxvZ2dlci52ZXJib3NlKEBiZWF1dGlmaWVycylcbiAgICBfLmZpbHRlciggQGJlYXV0aWZpZXJzLCAoYmVhdXRpZmllcikgLT5cblxuICAgICAgIyBsb2dnZXIudmVyYm9zZSgnYmVhdXRpZmllcicsYmVhdXRpZmllciwgbGFuZ3VhZ2UpXG4gICAgICBfLmluY2x1ZGVzKGJlYXV0aWZpZXIubGFuZ3VhZ2VzLCBsYW5ndWFnZSlcbiAgICApXG5cbiAgZ2V0QmVhdXRpZmllckZvckxhbmd1YWdlIDogKGxhbmd1YWdlKSAtPlxuICAgIGJlYXV0aWZpZXJzID0gQGdldEJlYXV0aWZpZXJzKGxhbmd1YWdlLm5hbWUpXG4gICAgbG9nZ2VyLnZlcmJvc2UoJ2JlYXV0aWZpZXJzJywgXy5tYXAoYmVhdXRpZmllcnMsICduYW1lJykpXG4gICAgIyBTZWxlY3QgYmVhdXRpZmllciBmcm9tIGxhbmd1YWdlIGNvbmZpZyBwcmVmZXJlbmNlc1xuICAgIHByZWZlcnJlZEJlYXV0aWZpZXJOYW1lID0gYXRvbS5jb25maWcuZ2V0KFwiYXRvbS1iZWF1dGlmeS4je2xhbmd1YWdlLm5hbWVzcGFjZX0uZGVmYXVsdF9iZWF1dGlmaWVyXCIpXG4gICAgYmVhdXRpZmllciA9IF8uZmluZChiZWF1dGlmaWVycywgKGJlYXV0aWZpZXIpIC0+XG4gICAgICBiZWF1dGlmaWVyLm5hbWUgaXMgcHJlZmVycmVkQmVhdXRpZmllck5hbWVcbiAgICApIG9yIGJlYXV0aWZpZXJzWzBdXG4gICAgcmV0dXJuIGJlYXV0aWZpZXJcblxuICBnZXRMYW5ndWFnZSA6IChncmFtbWFyLCBmaWxlUGF0aCkgLT5cbiAgICAjIEdldCBsYW5ndWFnZVxuICAgIGZpbGVFeHRlbnNpb24gPSBwYXRoLmV4dG5hbWUoZmlsZVBhdGgpXG4gICAgIyBSZW1vdmUgcHJlZml4IFwiLlwiIChwZXJpb2QpIGluIGZpbGVFeHRlbnNpb25cbiAgICBmaWxlRXh0ZW5zaW9uID0gZmlsZUV4dGVuc2lvbi5zdWJzdHIoMSlcbiAgICBsYW5ndWFnZXMgPSBAbGFuZ3VhZ2VzLmdldExhbmd1YWdlcyh7Z3JhbW1hciwgZXh0ZW5zaW9uOiBmaWxlRXh0ZW5zaW9ufSlcbiAgICBsb2dnZXIudmVyYm9zZShsYW5ndWFnZXMsIGdyYW1tYXIsIGZpbGVFeHRlbnNpb24pXG4gICAgIyBDaGVjayBpZiB1bnN1cHBvcnRlZCBsYW5ndWFnZVxuICAgIGlmIGxhbmd1YWdlcy5sZW5ndGggPCAxXG4gICAgICByZXR1cm4gbnVsbFxuICAgIGVsc2VcbiAgICAgICMgVE9ETzogc2VsZWN0IGFwcHJvcHJpYXRlIGxhbmd1YWdlXG4gICAgICBsYW5ndWFnZSA9IGxhbmd1YWdlc1swXVxuXG4gIGdldE9wdGlvbnNGb3JMYW5ndWFnZSA6IChhbGxPcHRpb25zLCBsYW5ndWFnZSkgLT5cbiAgICAjIE9wdGlvbnMgZm9yIExhbmd1YWdlXG4gICAgc2VsZWN0aW9ucyA9IChsYW5ndWFnZS5mYWxsYmFjayBvciBbXSkuY29uY2F0KFtsYW5ndWFnZS5uYW1lc3BhY2VdKVxuICAgIG9wdGlvbnMgPSBAZ2V0T3B0aW9ucyhzZWxlY3Rpb25zLCBhbGxPcHRpb25zKSBvciB7fVxuXG4gIHRyYW5zZm9ybU9wdGlvbnMgOiAoYmVhdXRpZmllciwgbGFuZ3VhZ2VOYW1lLCBvcHRpb25zKSAtPlxuXG4gICAgIyBUcmFuc2Zvcm0gb3B0aW9ucywgaWYgYXBwbGljYWJsZVxuICAgIGJlYXV0aWZpZXJPcHRpb25zID0gYmVhdXRpZmllci5vcHRpb25zW2xhbmd1YWdlTmFtZV1cbiAgICBpZiB0eXBlb2YgYmVhdXRpZmllck9wdGlvbnMgaXMgXCJib29sZWFuXCJcblxuICAgICAgIyBMYW5ndWFnZSBpcyBzdXBwb3J0ZWQgYnkgYmVhdXRpZmllclxuICAgICAgIyBJZiB0cnVlIHRoZW4gYWxsIG9wdGlvbnMgYXJlIGRpcmVjdGx5IHN1cHBvcnRlZFxuICAgICAgIyBJZiBmYWxzeSB0aGVuIHBhc3MgYWxsIG9wdGlvbnMgdG8gYmVhdXRpZmllcixcbiAgICAgICMgYWx0aG91Z2ggbm8gb3B0aW9ucyBhcmUgZGlyZWN0bHkgc3VwcG9ydGVkLlxuICAgICAgcmV0dXJuIG9wdGlvbnNcbiAgICBlbHNlIGlmIHR5cGVvZiBiZWF1dGlmaWVyT3B0aW9ucyBpcyBcIm9iamVjdFwiXG5cbiAgICAgICMgVHJhbnNmb3JtIHRoZSBvcHRpb25zXG4gICAgICB0cmFuc2Zvcm1lZE9wdGlvbnMgPSB7fVxuXG5cbiAgICAgICMgVHJhbnNmb3JtIGZvciBmaWVsZHNcbiAgICAgIGZvciBmaWVsZCwgb3Agb2YgYmVhdXRpZmllck9wdGlvbnNcbiAgICAgICAgaWYgdHlwZW9mIG9wIGlzIFwic3RyaW5nXCJcblxuICAgICAgICAgICMgUmVuYW1lXG4gICAgICAgICAgdHJhbnNmb3JtZWRPcHRpb25zW2ZpZWxkXSA9IG9wdGlvbnNbb3BdXG4gICAgICAgIGVsc2UgaWYgdHlwZW9mIG9wIGlzIFwiZnVuY3Rpb25cIlxuXG4gICAgICAgICAgIyBUcmFuc2Zvcm1cbiAgICAgICAgICB0cmFuc2Zvcm1lZE9wdGlvbnNbZmllbGRdID0gb3Aob3B0aW9uc1tmaWVsZF0pXG4gICAgICAgIGVsc2UgaWYgdHlwZW9mIG9wIGlzIFwiYm9vbGVhblwiXG5cbiAgICAgICAgICAjIEVuYWJsZS9EaXNhYmxlXG4gICAgICAgICAgaWYgb3AgaXMgdHJ1ZVxuICAgICAgICAgICAgdHJhbnNmb3JtZWRPcHRpb25zW2ZpZWxkXSA9IG9wdGlvbnNbZmllbGRdXG4gICAgICAgIGVsc2UgaWYgXy5pc0FycmF5KG9wKVxuXG4gICAgICAgICAgIyBDb21wbGV4IGZ1bmN0aW9uXG4gICAgICAgICAgW2ZpZWxkcy4uLiwgZm5dID0gb3BcbiAgICAgICAgICB2YWxzID0gXy5tYXAoZmllbGRzLCAoZikgLT5cbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zW2ZdXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgIyBBcHBseSBmdW5jdGlvblxuICAgICAgICAgIHRyYW5zZm9ybWVkT3B0aW9uc1tmaWVsZF0gPSBmbi5hcHBseSggbnVsbCAsIHZhbHMpXG5cbiAgICAgICMgUmVwbGFjZSBvbGQgb3B0aW9ucyB3aXRoIG5ldyB0cmFuc2Zvcm1lZCBvcHRpb25zXG4gICAgICByZXR1cm4gdHJhbnNmb3JtZWRPcHRpb25zXG4gICAgZWxzZVxuICAgICAgbG9nZ2VyLndhcm4oXCJVbnN1cHBvcnRlZCBMYW5ndWFnZSBvcHRpb25zOiBcIiwgYmVhdXRpZmllck9wdGlvbnMpXG4gICAgICByZXR1cm4gb3B0aW9uc1xuXG4gIHRyYWNrRXZlbnQgOiAocGF5bG9hZCkgLT5cbiAgICBAdHJhY2soXCJldmVudFwiLCBwYXlsb2FkKVxuXG4gIHRyYWNrVGltaW5nIDogKHBheWxvYWQpIC0+XG4gICAgQHRyYWNrKFwidGltaW5nXCIsIHBheWxvYWQpXG5cbiAgdHJhY2sgOiAodHlwZSwgcGF5bG9hZCkgLT5cbiAgICB0cnlcbiAgICAgICMgQ2hlY2sgaWYgQW5hbHl0aWNzIGlzIGVuYWJsZWRcbiAgICAgIGlmIGF0b20uY29uZmlnLmdldChcImF0b20tYmVhdXRpZnkuZ2VuZXJhbC5hbmFseXRpY3NcIilcbiAgICAgICAgIyBTZXR1cCBBbmFseXRpY3NcbiAgICAgICAgdW5sZXNzIGF0b20uY29uZmlnLmdldChcImF0b20tYmVhdXRpZnkuZ2VuZXJhbC5fYW5hbHl0aWNzVXNlcklkXCIpXG4gICAgICAgICAgdXVpZCA9IHJlcXVpcmUoXCJub2RlLXV1aWRcIilcbiAgICAgICAgICBhdG9tLmNvbmZpZy5zZXQgXCJhdG9tLWJlYXV0aWZ5LmdlbmVyYWwuX2FuYWx5dGljc1VzZXJJZFwiLCB1dWlkLnY0KClcbiAgICAgICAgIyBTZXR1cCBBbmFseXRpY3MgVXNlciBJZFxuICAgICAgICB1c2VySWQgPSBhdG9tLmNvbmZpZy5nZXQoXCJhdG9tLWJlYXV0aWZ5LmdlbmVyYWwuX2FuYWx5dGljc1VzZXJJZFwiKVxuICAgICAgICBAYW5hbHl0aWNzID89IG5ldyB1YSh0cmFja2luZ0lkLCB1c2VySWQsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIlVzZXItQWdlbnRcIjogbmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgQGFuYWx5dGljc1t0eXBlXShwYXlsb2FkKS5zZW5kKClcbiAgICBjYXRjaCBlcnJvclxuICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKVxuXG5cbiAgYmVhdXRpZnkgOiAodGV4dCwgYWxsT3B0aW9ucywgZ3JhbW1hciwgZmlsZVBhdGgsIHtvblNhdmV9ID0ge30pIC0+XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGFsbE9wdGlvbnMpXG4gICAgLnRoZW4oKGFsbE9wdGlvbnMpID0+XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgbG9nZ2VyLmluZm8oJ2JlYXV0aWZ5JywgdGV4dCwgYWxsT3B0aW9ucywgZ3JhbW1hciwgZmlsZVBhdGgsIG9uU2F2ZSlcbiAgICAgICAgbG9nZ2VyLnZlcmJvc2UoYWxsT3B0aW9ucylcblxuICAgICAgICAjIEdldCBsYW5ndWFnZVxuICAgICAgICBmaWxlRXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGZpbGVQYXRoKVxuICAgICAgICAjIFJlbW92ZSBwcmVmaXggXCIuXCIgKHBlcmlvZCkgaW4gZmlsZUV4dGVuc2lvblxuICAgICAgICBmaWxlRXh0ZW5zaW9uID0gZmlsZUV4dGVuc2lvbi5zdWJzdHIoMSlcbiAgICAgICAgbGFuZ3VhZ2VzID0gQGxhbmd1YWdlcy5nZXRMYW5ndWFnZXMoe2dyYW1tYXIsIGV4dGVuc2lvbjogZmlsZUV4dGVuc2lvbn0pXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKGxhbmd1YWdlcywgZ3JhbW1hciwgZmlsZUV4dGVuc2lvbilcblxuICAgICAgICAjIENoZWNrIGlmIHVuc3VwcG9ydGVkIGxhbmd1YWdlXG4gICAgICAgIGlmIGxhbmd1YWdlcy5sZW5ndGggPCAxXG4gICAgICAgICAgdW5zdXBwb3J0ZWRHcmFtbWFyID0gdHJ1ZVxuXG4gICAgICAgICAgbG9nZ2VyLnZlcmJvc2UoJ1Vuc3VwcG9ydGVkIGxhbmd1YWdlJylcblxuICAgICAgICAgICMgQ2hlY2sgaWYgb24gc2F2ZVxuICAgICAgICAgIGlmIG9uU2F2ZVxuICAgICAgICAgICAgIyBJZ25vcmUgdGhpcywgYXMgaXQgd2FzIGp1c3QgYSBnZW5lcmFsIGZpbGUgc2F2ZSwgYW5kXG4gICAgICAgICAgICAjIG5vdCBpbnRlbmRlZCB0byBiZSBiZWF1dGlmaWVkXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggbnVsbCApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAjIFRPRE86IHNlbGVjdCBhcHByb3ByaWF0ZSBsYW5ndWFnZVxuICAgICAgICAgIGxhbmd1YWdlID0gbGFuZ3VhZ2VzWzBdXG5cbiAgICAgICAgICBsb2dnZXIudmVyYm9zZShcIkxhbmd1YWdlICN7bGFuZ3VhZ2UubmFtZX0gc3VwcG9ydGVkXCIpXG5cbiAgICAgICAgICAjIEdldCBsYW5ndWFnZSBjb25maWdcbiAgICAgICAgICBsYW5nRGlzYWJsZWQgPSBhdG9tLmNvbmZpZy5nZXQoXCJhdG9tLWJlYXV0aWZ5LiN7bGFuZ3VhZ2UubmFtZXNwYWNlfS5kaXNhYmxlZFwiKVxuXG5cbiAgICAgICAgICAjIEJlYXV0aWZ5IVxuICAgICAgICAgIHVuc3VwcG9ydGVkR3JhbW1hciA9IGZhbHNlXG5cblxuICAgICAgICAgICMgQ2hlY2sgaWYgTGFuZ3VhZ2UgaXMgZGlzYWJsZWRcbiAgICAgICAgICBpZiBsYW5nRGlzYWJsZWRcbiAgICAgICAgICAgIGxvZ2dlci52ZXJib3NlKFwiTGFuZ3VhZ2UgI3tsYW5ndWFnZS5uYW1lfSBpcyBkaXNhYmxlZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIG51bGwgKVxuXG4gICAgICAgICAgIyBHZXQgbW9yZSBsYW5ndWFnZSBjb25maWdcbiAgICAgICAgICBiZWF1dGlmeU9uU2F2ZSA9IGF0b20uY29uZmlnLmdldChcImF0b20tYmVhdXRpZnkuI3tsYW5ndWFnZS5uYW1lc3BhY2V9LmJlYXV0aWZ5X29uX3NhdmVcIilcblxuICAgICAgICAgICMgVmVyaWZ5IGlmIGJlYXV0aWZ5aW5nIG9uIHNhdmVcbiAgICAgICAgICBpZiBvblNhdmUgYW5kIG5vdCBiZWF1dGlmeU9uU2F2ZVxuICAgICAgICAgICAgbG9nZ2VyLnZlcmJvc2UoXCJCZWF1dGlmeSBvbiBzYXZlIGlzIGRpc2FibGVkIGZvciBsYW5ndWFnZSAje2xhbmd1YWdlLm5hbWV9XCIpXG4gICAgICAgICAgICAjIFNhdmluZywgYW5kIGJlYXV0aWZ5IG9uIHNhdmUgaXMgZGlzYWJsZWRcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCBudWxsIClcblxuICAgICAgICAgICMgT3B0aW9ucyBmb3IgTGFuZ3VhZ2VcbiAgICAgICAgICBvcHRpb25zID0gQGdldE9wdGlvbnNGb3JMYW5ndWFnZShhbGxPcHRpb25zLCBsYW5ndWFnZSlcblxuICAgICAgICAgICMgR2V0IEJlYXV0aWZpZXJcbiAgICAgICAgICBsb2dnZXIudmVyYm9zZShncmFtbWFyLCBsYW5ndWFnZSlcblxuICAgICAgICAgIGxvZ2dlci52ZXJib3NlKFwibGFuZ3VhZ2Ugb3B0aW9uczogI3tKU09OLnN0cmluZ2lmeShvcHRpb25zLCBudWxsLCA0KX1cIilcblxuICAgICAgICAgIGxvZ2dlci52ZXJib3NlKGxhbmd1YWdlLm5hbWUsIGZpbGVQYXRoLCBvcHRpb25zLCBhbGxPcHRpb25zKVxuXG4gICAgICAgICAgIyBDaGVjayBpZiB1bnN1cHBvcnRlZCBsYW5ndWFnZVxuICAgICAgICAgIGJlYXV0aWZpZXIgPSBAZ2V0QmVhdXRpZmllckZvckxhbmd1YWdlKGxhbmd1YWdlKVxuICAgICAgICAgIGlmIG5vdCBiZWF1dGlmaWVyP1xuICAgICAgICAgICAgdW5zdXBwb3J0ZWRHcmFtbWFyID0gdHJ1ZVxuICAgICAgICAgICAgbG9nZ2VyLnZlcmJvc2UoJ0JlYXV0aWZpZXIgZm9yIGxhbmd1YWdlIG5vdCBmb3VuZCcpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgbG9nZ2VyLnZlcmJvc2UoJ2JlYXV0aWZpZXInLCBiZWF1dGlmaWVyLm5hbWUpXG5cbiAgICAgICAgICAgICMgQXBwbHkgbGFuZ3VhZ2Utc3BlY2lmaWMgb3B0aW9uIHRyYW5zZm9ybWF0aW9uc1xuICAgICAgICAgICAgb3B0aW9ucyA9IEB0cmFuc2Zvcm1PcHRpb25zKGJlYXV0aWZpZXIsIGxhbmd1YWdlLm5hbWUsIG9wdGlvbnMpXG5cbiAgICAgICAgICAgICMgQmVhdXRpZnkgdGV4dCB3aXRoIGxhbmd1YWdlIG9wdGlvbnNcbiAgICAgICAgICAgIEBlbWl0IFwiYmVhdXRpZnk6OnN0YXJ0XCJcblxuICAgICAgICAgICAgY29udGV4dCA9XG4gICAgICAgICAgICAgIGZpbGVQYXRoOiBmaWxlUGF0aFxuXG4gICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpXG4gICAgICAgICAgICBiZWF1dGlmaWVyLmJlYXV0aWZ5KHRleHQsIGxhbmd1YWdlLm5hbWUsIG9wdGlvbnMsIGNvbnRleHQpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PlxuICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgICAgICAgIyBUcmFjayBUaW1pbmdcbiAgICAgICAgICAgICAgQHRyYWNrVGltaW5nKHtcbiAgICAgICAgICAgICAgICB1dGM6IFwiQmVhdXRpZnlcIiAjIENhdGVnb3J5XG4gICAgICAgICAgICAgICAgdXR2OiBsYW5ndWFnZT8ubmFtZSAjIFZhcmlhYmxlXG4gICAgICAgICAgICAgICAgdXR0OiAobmV3IERhdGUoKSAtIHN0YXJ0VGltZSkgIyBWYWx1ZVxuICAgICAgICAgICAgICAgIHV0bDogdmVyc2lvbiAjIExhYmVsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICMgVHJhY2sgRW1wdHkgYmVhdXRpZmljYXRpb24gcmVzdWx0c1xuICAgICAgICAgICAgICBpZiBub3QgcmVzdWx0XG4gICAgICAgICAgICAgICAgQHRyYWNrRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgZWM6IHZlcnNpb24sICMgQ2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgIGVhOiBcIkJlYXV0aWZ5OkVtcHR5XCIgIyBBY3Rpb25cbiAgICAgICAgICAgICAgICAgIGVsOiBsYW5ndWFnZT8ubmFtZSAjIExhYmVsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+XG4gICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgICAgIyBUcmFjayBFcnJvcnNcbiAgICAgICAgICAgICAgQHRyYWNrRXZlbnQoe1xuICAgICAgICAgICAgICAgIGVjOiB2ZXJzaW9uLCAjIENhdGVnb3J5XG4gICAgICAgICAgICAgICAgZWE6IFwiQmVhdXRpZnk6RXJyb3JcIiAjIEFjdGlvblxuICAgICAgICAgICAgICAgIGVsOiBsYW5ndWFnZT8ubmFtZSAjIExhYmVsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZmluYWxseSg9PlxuICAgICAgICAgICAgICBAZW1pdCBcImJlYXV0aWZ5OjplbmRcIlxuICAgICAgICAgICAgKVxuXG4gICAgICAgICMgQ2hlY2sgaWYgQW5hbHl0aWNzIGlzIGVuYWJsZWRcbiAgICAgICAgQHRyYWNrRXZlbnQoe1xuICAgICAgICAgIGVjOiB2ZXJzaW9uLCAjIENhdGVnb3J5XG4gICAgICAgICAgZWE6IFwiQmVhdXRpZnlcIiAjIEFjdGlvblxuICAgICAgICAgIGVsOiBsYW5ndWFnZT8ubmFtZSAjIExhYmVsXG4gICAgICAgIH0pXG4gICAgICAgIGlmIG9uU2F2ZVxuICAgICAgICAgIEB0cmFja0V2ZW50KHtcbiAgICAgICAgICAgIGVjOiB2ZXJzaW9uLCAjIENhdGVnb3J5XG4gICAgICAgICAgICBlYTogXCJCZWF1dGlmeTpPblNhdmVcIiAjIEFjdGlvblxuICAgICAgICAgICAgZWw6IGxhbmd1YWdlPy5uYW1lICMgTGFiZWxcbiAgICAgICAgICB9KVxuICAgICAgICBlbHNlXG4gICAgICAgICAgQHRyYWNrRXZlbnQoe1xuICAgICAgICAgICAgZWM6IHZlcnNpb24sICMgQ2F0ZWdvcnlcbiAgICAgICAgICAgIGVhOiBcIkJlYXV0aWZ5Ok1hbnVhbFwiICMgQWN0aW9uXG4gICAgICAgICAgICBlbDogbGFuZ3VhZ2U/Lm5hbWUgIyBMYWJlbFxuICAgICAgICAgIH0pXG5cblxuICAgICAgICBpZiB1bnN1cHBvcnRlZEdyYW1tYXJcbiAgICAgICAgICBpZiBhdG9tLmNvbmZpZy5nZXQoXCJhdG9tLWJlYXV0aWZ5LmdlbmVyYWwubXV0ZVVuc3VwcG9ydGVkTGFuZ3VhZ2VFcnJvcnNcIilcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCBudWxsIClcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXBvQnVnc1VybCA9IHBrZy5idWdzLnVybFxuICAgICAgICAgICAgdGl0bGUgPSBcIkF0b20gQmVhdXRpZnkgY291bGQgbm90IGZpbmQgYSBzdXBwb3J0ZWQgYmVhdXRpZmllciBmb3IgdGhpcyBmaWxlXCJcbiAgICAgICAgICAgIGRldGFpbCA9IFwiXCJcIlxuICAgICAgICAgICAgICAgICAgICAgQXRvbSBCZWF1dGlmeSBjb3VsZCBub3QgZGV0ZXJtaW5lIGEgc3VwcG9ydGVkIGJlYXV0aWZpZXIgdG8gaGFuZGxlIHRoaXMgZmlsZSB3aXRoIGdyYW1tYXIgXFxcIiN7Z3JhbW1hcn1cXFwiIGFuZCBleHRlbnNpb24gXFxcIiN7ZmlsZUV4dGVuc2lvbn1cXFwiLiBcXFxuICAgICAgICAgICAgICAgICAgICAgSWYgeW91IHdvdWxkIGxpa2UgdG8gcmVxdWVzdCBzdXBwb3J0IGZvciB0aGlzIGZpbGUgYW5kIGl0cyBsYW5ndWFnZSwgcGxlYXNlIGNyZWF0ZSBhbiBpc3N1ZSBmb3IgQXRvbSBCZWF1dGlmeSBhdCAje3JlcG9CdWdzVXJsfVxuICAgICAgICAgICAgICAgICAgICAgXCJcIlwiXG5cbiAgICAgICAgICAgIGF0b20/Lm5vdGlmaWNhdGlvbnMuYWRkV2FybmluZyh0aXRsZSwge1xuICAgICAgICAgICAgICBkZXRhaWxcbiAgICAgICAgICAgICAgZGlzbWlzc2FibGUgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIG51bGwgKVxuICAgICAgICAgICAgKVxuXG4gICAgICApXG5cbiAgZmluZEZpbGVSZXN1bHRzIDoge31cblxuXG4gICMgQ0xJXG4gIGdldFVzZXJIb21lIDogLT5cbiAgICBwcm9jZXNzLmVudi5IT01FIG9yIHByb2Nlc3MuZW52LkhPTUVQQVRIIG9yIHByb2Nlc3MuZW52LlVTRVJQUk9GSUxFXG4gIHZlcmlmeUV4aXN0cyA6IChmdWxsUGF0aCkgLT5cbiAgICBmcyA/PSByZXF1aXJlKFwiZnNcIilcbiAgICAoIGlmIGZzLmV4aXN0c1N5bmMoZnVsbFBhdGgpIHRoZW4gZnVsbFBhdGggZWxzZSBudWxsIClcblxuXG5cbiAgIyBTdG9yYWdlIGZvciBtZW1vaXplZCByZXN1bHRzIGZyb20gZmluZCBmaWxlXG4gICMgU2hvdWxkIHByZXZlbnQgbG90cyBvZiBkaXJlY3RvcnkgdHJhdmVyc2FsICZcbiAgIyBsb29rdXBzIHdoZW4gbGluaXRpbmcgYW4gZW50aXJlIHByb2plY3RcbiAgIyMjXG4gICAgU2VhcmNoZXMgZm9yIGEgZmlsZSB3aXRoIGEgc3BlY2lmaWVkIG5hbWUgc3RhcnRpbmcgd2l0aFxuICAgICdkaXInIGFuZCBnb2luZyBhbGwgdGhlIHdheSB1cCBlaXRoZXIgdW50aWwgaXQgZmluZHMgdGhlIGZpbGVcbiAgICBvciBoaXRzIHRoZSByb290LlxuXG4gICAgQHBhcmFtIHtzdHJpbmd9IG5hbWUgZmlsZW5hbWUgdG8gc2VhcmNoIGZvciAoZS5nLiAuanNoaW50cmMpXG4gICAgQHBhcmFtIHtzdHJpbmd9IGRpciBkaXJlY3RvcnkgdG8gc3RhcnQgc2VhcmNoIGZyb20gKGRlZmF1bHQ6XG4gICAgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSlcbiAgICBAcGFyYW0ge2Jvb2xlYW59IHVwd2FyZHMgc2hvdWxkIHJlY3Vyc2UgdXB3YXJkcyBvbiBmYWlsdXJlPyAoZGVmYXVsdDogdHJ1ZSlcblxuICAgIEByZXR1cm5zIHtzdHJpbmd9IG5vcm1hbGl6ZWQgZmlsZW5hbWVcbiAgIyMjXG4gIGZpbmRGaWxlIDogKG5hbWUsIGRpciwgdXB3YXJkcyA9IHRydWUpIC0+XG4gICAgcGF0aCA/PSByZXF1aXJlKFwicGF0aFwiKVxuICAgIGRpciA9IGRpciBvciBwcm9jZXNzLmN3ZCgpXG4gICAgZmlsZW5hbWUgPSBwYXRoLm5vcm1hbGl6ZShwYXRoLmpvaW4oZGlyLCBuYW1lKSlcbiAgICByZXR1cm4gQGZpbmRGaWxlUmVzdWx0c1tmaWxlbmFtZV0gaWYgQGZpbmRGaWxlUmVzdWx0c1tmaWxlbmFtZV0gaXNudCB1bmRlZmluZWRcbiAgICBwYXJlbnQgPSBwYXRoLnJlc29sdmUoZGlyLCBcIi4uL1wiKVxuICAgIGlmIEB2ZXJpZnlFeGlzdHMoZmlsZW5hbWUpXG4gICAgICBAZmluZEZpbGVSZXN1bHRzW2ZpbGVuYW1lXSA9IGZpbGVuYW1lXG4gICAgICByZXR1cm4gZmlsZW5hbWVcbiAgICBpZiBkaXIgaXMgcGFyZW50XG4gICAgICBAZmluZEZpbGVSZXN1bHRzW2ZpbGVuYW1lXSA9IG51bGxcbiAgICAgIHJldHVybiBudWxsXG4gICAgaWYgdXB3YXJkc1xuICAgICAgZmluZEZpbGUgbmFtZSwgcGFyZW50XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG51bGxcblxuXG4gICMjI1xuICAgIFRyaWVzIHRvIGZpbmQgYSBjb25maWd1cmF0aW9uIGZpbGUgaW4gZWl0aGVyIHByb2plY3QgZGlyZWN0b3J5XG4gICAgb3IgaW4gdGhlIGhvbWUgZGlyZWN0b3J5LiBDb25maWd1cmF0aW9uIGZpbGVzIGFyZSBuYW1lZFxuICAgICcuanNiZWF1dGlmeXJjJy5cblxuICAgIEBwYXJhbSB7c3RyaW5nfSBjb25maWcgbmFtZSBvZiB0aGUgY29uZmlndXJhdGlvbiBmaWxlXG4gICAgQHBhcmFtIHtzdHJpbmd9IGZpbGUgcGF0aCB0byB0aGUgZmlsZSB0byBiZSBsaW50ZWRcbiAgICBAcGFyYW0ge2Jvb2xlYW59IHVwd2FyZHMgc2hvdWxkIHJlY3Vyc2UgdXB3YXJkcyBvbiBmYWlsdXJlPyAoZGVmYXVsdDogdHJ1ZSlcblxuICAgIEByZXR1cm5zIHtzdHJpbmd9IGEgcGF0aCB0byB0aGUgY29uZmlnIGZpbGVcbiAgIyMjXG4gIGZpbmRDb25maWcgOiAoY29uZmlnLCBmaWxlLCB1cHdhcmRzID0gdHJ1ZSkgLT5cbiAgICBwYXRoID89IHJlcXVpcmUoXCJwYXRoXCIpXG4gICAgZGlyID0gcGF0aC5kaXJuYW1lKHBhdGgucmVzb2x2ZShmaWxlKSlcbiAgICBlbnZzID0gQGdldFVzZXJIb21lKClcbiAgICBob21lID0gcGF0aC5ub3JtYWxpemUocGF0aC5qb2luKGVudnMsIGNvbmZpZykpXG4gICAgcHJvaiA9IEBmaW5kRmlsZShjb25maWcsIGRpciwgdXB3YXJkcylcbiAgICBsb2dnZXIudmVyYm9zZShkaXIsIHByb2osIGhvbWUpXG4gICAgcmV0dXJuIHByb2ogaWYgcHJvalxuICAgIHJldHVybiBob21lIGlmIEB2ZXJpZnlFeGlzdHMoaG9tZSlcbiAgICBudWxsXG4gIGdldENvbmZpZ09wdGlvbnNGcm9tU2V0dGluZ3MgOiAobGFuZ3MpIC0+XG4gICAgY29uZmlnID0gYXRvbS5jb25maWcuZ2V0KCdhdG9tLWJlYXV0aWZ5JylcbiAgICBvcHRpb25zID0gXy5waWNrKGNvbmZpZywgbGFuZ3MpXG5cbiAgIyBMb29rIGZvciAuanNiZWF1dGlmaWVycmMgaW4gZmlsZSBhbmQgaG9tZSBwYXRoLCBjaGVjayBlbnYgdmFyaWFibGVzXG4gIGdldENvbmZpZyA6IChzdGFydFBhdGgsIHVwd2FyZHMgPSB0cnVlKSAtPlxuICAgICMgY29uc29sZS5sb2coJ2dldENvbmZpZycsIHN0YXJ0UGF0aCwgdXB3YXJkcylcbiAgICAjIFZlcmlmeSB0aGF0IHN0YXJ0UGF0aCBpcyBhIHN0cmluZ1xuICAgIHN0YXJ0UGF0aCA9ICggaWYgKCB0eXBlb2Ygc3RhcnRQYXRoIGlzIFwic3RyaW5nXCIpIHRoZW4gc3RhcnRQYXRoIGVsc2UgXCJcIilcbiAgICByZXR1cm4ge30gdW5sZXNzIHN0YXJ0UGF0aFxuXG5cbiAgICAjIEdldCB0aGUgcGF0aCB0byB0aGUgY29uZmlnIGZpbGVcbiAgICBjb25maWdQYXRoID0gQGZpbmRDb25maWcoXCIuanNiZWF1dGlmeXJjXCIsIHN0YXJ0UGF0aCwgdXB3YXJkcylcbiAgICBsb2dnZXIudmVyYm9zZSgnY29uZmlnUGF0aCcsIGNvbmZpZ1BhdGgsIHN0YXJ0UGF0aCwgdXB3YXJkcylcbiAgICBleHRlcm5hbE9wdGlvbnMgPSB1bmRlZmluZWRcbiAgICBpZiBjb25maWdQYXRoXG4gICAgICBmcyA/PSByZXF1aXJlKFwiZnNcIilcbiAgICAgIHRyeVxuICAgICAgICBjb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhjb25maWdQYXRoLFxuICAgICAgICAgIGVuY29kaW5nIDogXCJ1dGY4XCJcbiAgICAgICAgKVxuICAgICAgY2F0Y2ggZXJyb3JcbiAgICAgICAgY29udGVudHMgPSBudWxsICNmaWxlIGlzbnQgYXZhaWxhYmxlIGFueW1vcmVcbiAgICAgIHVubGVzcyBjb250ZW50c1xuICAgICAgICBleHRlcm5hbE9wdGlvbnMgPSB7fVxuICAgICAgZWxzZVxuICAgICAgICB0cnlcbiAgICAgICAgICBzdHJpcCA/PSByZXF1aXJlKFwic3RyaXAtanNvbi1jb21tZW50c1wiKVxuICAgICAgICAgIGV4dGVybmFsT3B0aW9ucyA9IEpTT04ucGFyc2Uoc3RyaXAoY29udGVudHMpKVxuICAgICAgICBjYXRjaCBlXG4gICAgICAgICAganNvbkVycm9yID0gZS5tZXNzYWdlXG4gICAgICAgICAgbG9nZ2VyLmRlYnVnIFwiRmFpbGVkIHBhcnNpbmcgY29uZmlnIGFzIEpTT046IFwiICsgY29uZmlnUGF0aFxuICAgICAgICAgICMgQXR0ZW1wdCBhcyBZQU1MXG4gICAgICAgICAgdHJ5XG4gICAgICAgICAgICB5YW1sID89IHJlcXVpcmUoXCJ5YW1sLWZyb250LW1hdHRlclwiKVxuICAgICAgICAgICAgZXh0ZXJuYWxPcHRpb25zID0geWFtbC5zYWZlTG9hZChjb250ZW50cylcbiAgICAgICAgICBjYXRjaCBlXG4gICAgICAgICAgICB0aXRsZSA9IFwiQXRvbSBCZWF1dGlmeSBmYWlsZWQgdG8gcGFyc2UgY29uZmlnIGFzIEpTT04gb3IgWUFNTFwiXG4gICAgICAgICAgICBkZXRhaWwgPSBcIlwiXCJcbiAgICAgICAgICAgICAgICAgICAgIFBhcnNpbmcgJy5qc2JlYXV0aWZ5cmMnIGF0ICN7Y29uZmlnUGF0aH1cbiAgICAgICAgICAgICAgICAgICAgIEpTT046ICN7anNvbkVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgWUFNTDogI3tlLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICBcIlwiXCJcbiAgICAgICAgICAgIGF0b20/Lm5vdGlmaWNhdGlvbnMuYWRkV2FybmluZyh0aXRsZSwge1xuICAgICAgICAgICAgICBkZXRhaWxcbiAgICAgICAgICAgICAgZGlzbWlzc2FibGUgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnIFwiRmFpbGVkIHBhcnNpbmcgY29uZmlnIGFzIFlBTUwgYW5kIEpTT046IFwiICsgY29uZmlnUGF0aFxuICAgICAgICAgICAgZXh0ZXJuYWxPcHRpb25zID0ge31cbiAgICBlbHNlXG4gICAgICBleHRlcm5hbE9wdGlvbnMgPSB7fVxuICAgIHJldHVybiBleHRlcm5hbE9wdGlvbnNcblxuICBnZXRPcHRpb25zRm9yUGF0aCA6IChlZGl0ZWRGaWxlUGF0aCwgZWRpdG9yKSAtPlxuICAgIGxhbmd1YWdlTmFtZXNwYWNlcyA9IEBsYW5ndWFnZXMubmFtZXNwYWNlc1xuXG5cbiAgICAjIEVkaXRvciBPcHRpb25zXG4gICAgZWRpdG9yT3B0aW9ucyA9IHt9XG4gICAgaWYgZWRpdG9yP1xuXG4gICAgICAjIEdldCBjdXJyZW50IEF0b20gZWRpdG9yIGNvbmZpZ3VyYXRpb25cbiAgICAgIGlzU2VsZWN0aW9uID0gISFlZGl0b3IuZ2V0U2VsZWN0ZWRUZXh0KClcbiAgICAgIHNvZnRUYWJzID0gZWRpdG9yLnNvZnRUYWJzXG4gICAgICB0YWJMZW5ndGggPSBlZGl0b3IuZ2V0VGFiTGVuZ3RoKClcbiAgICAgIGVkaXRvck9wdGlvbnMgPVxuICAgICAgICBpbmRlbnRfc2l6ZSA6ICggaWYgc29mdFRhYnMgdGhlbiB0YWJMZW5ndGggZWxzZSAxKVxuICAgICAgICBpbmRlbnRfY2hhciA6ICggaWYgc29mdFRhYnMgdGhlbiBcIiBcIiBlbHNlIFwiXFx0XCIpXG4gICAgICAgIGluZGVudF93aXRoX3RhYnMgOiBub3Qgc29mdFRhYnNcblxuICAgICMgRnJvbSBQYWNrYWdlIFNldHRpbmdzXG4gICAgY29uZmlnT3B0aW9ucyA9IEBnZXRDb25maWdPcHRpb25zRnJvbVNldHRpbmdzKGxhbmd1YWdlTmFtZXNwYWNlcylcblxuXG4gICAgIyBHZXQgY29uZmlndXJhdGlvbiBpbiBVc2VyJ3MgSG9tZSBkaXJlY3RvcnlcbiAgICB1c2VySG9tZSA9IEBnZXRVc2VySG9tZSgpXG5cblxuICAgICMgRkFLRUZJTEVOQU1FIGZvcmNlcyBgcGF0aGAgdG8gdHJlYXQgYXMgZmlsZSBwYXRoIGFuZCBpdHMgcGFyZW50IGRpcmVjdG9yeVxuICAgICMgaXMgdGhlIHVzZXJIb21lLiBTZWUgaW1wbGVtZW50YXRpb24gb2YgZmluZENvbmZpZ1xuICAgICMgYW5kIGhvdyBwYXRoLmRpcm5hbWUoRElSRUNUT1JZKSByZXR1cm5zIHRoZSBwYXJlbnQgZGlyZWN0b3J5IG9mIERJUkVDVE9SWVxuICAgIGhvbWVPcHRpb25zID0gQGdldENvbmZpZyhwYXRoLmpvaW4odXNlckhvbWUsIFwiRkFLRUZJTEVOQU1FXCIpLCBmYWxzZSlcbiAgICBpZiBlZGl0ZWRGaWxlUGF0aD9cblxuICAgICAgIyBIYW5kbGUgRWRpdG9yQ29uZmlnIG9wdGlvbnNcbiAgICAgICMgaHR0cDovL2VkaXRvcmNvbmZpZy5vcmcvXG4gICAgICBlZGl0b3Jjb25maWcgPz0gcmVxdWlyZSgnZWRpdG9yY29uZmlnJylcbiAgICAgIGVkaXRvckNvbmZpZ09wdGlvbnMgPSBlZGl0b3Jjb25maWcucGFyc2UoZWRpdGVkRmlsZVBhdGgpXG4gICAgICAudGhlbigoZWRpdG9yQ29uZmlnT3B0aW9ucykgLT5cblxuICAgICAgICBsb2dnZXIudmVyYm9zZSgnZWRpdG9yQ29uZmlnT3B0aW9ucycsIGVkaXRvckNvbmZpZ09wdGlvbnMpXG5cbiAgICAgICAgIyBUcmFuc2Zvcm0gRWRpdG9yQ29uZmlnIHRvIEF0b20gQmVhdXRpZnkncyBjb25maWcgc3RydWN0dXJlIGFuZCBuYW1pbmdcbiAgICAgICAgaWYgZWRpdG9yQ29uZmlnT3B0aW9ucy5pbmRlbnRfc3R5bGUgaXMgJ3NwYWNlJ1xuICAgICAgICAgIGVkaXRvckNvbmZpZ09wdGlvbnMuaW5kZW50X2NoYXIgPSBcIiBcIlxuXG4gICAgICAgICMgaWYgKGVkaXRvckNvbmZpZ09wdGlvbnMuaW5kZW50X3NpemUpXG4gICAgICAgICMgZWRpdG9yQ29uZmlnT3B0aW9ucy5pbmRlbnRfc2l6ZSA9IGNvbmZpZy5pbmRlbnRfc2l6ZVxuICAgICAgICBlbHNlIGlmIGVkaXRvckNvbmZpZ09wdGlvbnMuaW5kZW50X3N0eWxlIGlzICd0YWInXG4gICAgICAgICAgZWRpdG9yQ29uZmlnT3B0aW9ucy5pbmRlbnRfY2hhciA9IFwiXFx0XCJcbiAgICAgICAgICBlZGl0b3JDb25maWdPcHRpb25zLmluZGVudF93aXRoX3RhYnMgPSB0cnVlXG4gICAgICAgICAgaWYgKGVkaXRvckNvbmZpZ09wdGlvbnMudGFiX3dpZHRoKVxuICAgICAgICAgICAgZWRpdG9yQ29uZmlnT3B0aW9ucy5pbmRlbnRfc2l6ZSA9IGVkaXRvckNvbmZpZ09wdGlvbnMudGFiX3dpZHRoXG5cbiAgICAgICAgIyBOZXN0IG9wdGlvbnMgdW5kZXIgX2RlZmF1bHQgbmFtZXNwYWNlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2RlZmF1bHQ6XG4gICAgICAgICAgICBlZGl0b3JDb25maWdPcHRpb25zXG4gICAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICAjIEdldCBhbGwgb3B0aW9ucyBpbiBjb25maWd1cmF0aW9uIGZpbGVzIGZyb20gdGhpcyBkaXJlY3RvcnkgdXB3YXJkcyB0byByb290XG4gICAgICBwcm9qZWN0T3B0aW9ucyA9IFtdXG4gICAgICBwID0gcGF0aC5kaXJuYW1lKGVkaXRlZEZpbGVQYXRoKVxuXG5cbiAgICAgICMgQ2hlY2sgaWYgcCBpcyByb290ICh0b3AgZGlyZWN0b3J5KVxuICAgICAgd2hpbGUgcCBpc250IHBhdGgucmVzb2x2ZShwLCBcIi4uL1wiKVxuXG4gICAgICAgICMgR2V0IGNvbmZpZyBmb3IgcFxuICAgICAgICBwZiA9IHBhdGguam9pbihwLCBcIkZBS0VGSUxFTkFNRVwiKVxuICAgICAgICBwYyA9IEBnZXRDb25maWcocGYsIGZhbHNlKVxuXG4gICAgICAgIGlzTmVzdGVkID0gQGlzTmVzdGVkT3B0aW9ucyhwYylcbiAgICAgICAgdW5sZXNzIGlzTmVzdGVkXG4gICAgICAgICAgcGMgPSB7XG4gICAgICAgICAgICBfZGVmYXVsdDogcGNcbiAgICAgICAgICB9XG5cbiAgICAgICAgIyBBZGQgY29uZmlnIGZvciBwIHRvIHByb2plY3QncyBjb25maWcgb3B0aW9uc1xuICAgICAgICBwcm9qZWN0T3B0aW9ucy5wdXNoKHBjKVxuXG4gICAgICAgICMgbG9nZ2VyLnZlcmJvc2UgcCwgcGNcbiAgICAgICAgIyBNb3ZlIHVwd2FyZHNcbiAgICAgICAgcCA9IHBhdGgucmVzb2x2ZShwLCBcIi4uL1wiKVxuICAgIGVsc2VcbiAgICAgIGVkaXRvckNvbmZpZ09wdGlvbnMgPSB7fVxuICAgICAgcHJvamVjdE9wdGlvbnMgPSBbXVxuXG4gICAgIyBDb21iaW5lIGFsbCBvcHRpb25zIHRvZ2V0aGVyXG4gICAgYWxsT3B0aW9ucyA9IFtcbiAgICAgIHtcbiAgICAgICAgX2RlZmF1bHQ6XG4gICAgICAgICAgZWRpdG9yT3B0aW9uc1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ09wdGlvbnMsXG4gICAgICB7XG4gICAgICAgIF9kZWZhdWx0OlxuICAgICAgICAgIGhvbWVPcHRpb25zXG4gICAgICB9LFxuICAgICAgZWRpdG9yQ29uZmlnT3B0aW9uc1xuICAgIF1cbiAgICAjIFJldmVyc2UgYW5kIGFkZCBwcm9qZWN0T3B0aW9ucyB0byBhbGwgb3B0aW9uc1xuICAgIHByb2plY3RPcHRpb25zLnJldmVyc2UoKVxuICAgIGFsbE9wdGlvbnMgPSBhbGxPcHRpb25zLmNvbmNhdChwcm9qZWN0T3B0aW9ucylcblxuICAgICMgbG9nZ2VyLnZlcmJvc2UoYWxsT3B0aW9ucylcbiAgICByZXR1cm4gYWxsT3B0aW9uc1xuXG4gIGlzTmVzdGVkT3B0aW9ucyA6IChjdXJyT3B0aW9ucykgLT5cbiAgICBjb250YWluc05lc3RlZCA9IGZhbHNlXG4gICAga2V5ID0gdW5kZWZpbmVkXG5cbiAgICAjIENoZWNrIGlmIGFscmVhZHkgbmVzdGVkIHVuZGVyIF9kZWZhdWx0XG4gICAgaWYgY3Vyck9wdGlvbnMuX2RlZmF1bHRcbiAgICAgIHJldHVybiB0cnVlXG5cbiAgICAjIENoZWNrIHRvIHNlZSBpZiBjb25maWcgZmlsZSB1c2VzIG5lc3RlZCBvYmplY3QgZm9ybWF0IHRvIHNwbGl0IHVwIGpzL2Nzcy9odG1sIG9wdGlvbnNcbiAgICBmb3Iga2V5IG9mIGN1cnJPcHRpb25zXG5cbiAgICAgICMgQ2hlY2sgaWYgaXMgc3VwcG9ydGVkIGxhbmd1YWdlXG4gICAgICBpZiBfLmluZGV4T2YoQGxhbmd1YWdlcy5uYW1lc3BhY2VzLCBrZXkpID49IDAgYW5kIHR5cGVvZiBjdXJyT3B0aW9uc1trZXldIGlzIFwib2JqZWN0XCIgIyBDaGVjayBpZiBuZXN0ZWQgb2JqZWN0IChtb3JlIG9wdGlvbnMgaW4gdmFsdWUpXG4gICAgICAgIGNvbnRhaW5zTmVzdGVkID0gdHJ1ZVxuICAgICAgICBicmVhayAjIEZvdW5kLCBicmVhayBvdXQgb2YgbG9vcCwgbm8gbmVlZCB0byBjb250aW51ZVxuXG4gICAgcmV0dXJuIGNvbnRhaW5zTmVzdGVkXG5cbiAgZ2V0T3B0aW9ucyA6IChzZWxlY3Rpb25zLCBhbGxPcHRpb25zKSA9PlxuICAgIHNlbGYgPSB0aGlzXG4gICAgXyA/PSByZXF1aXJlKFwibG9kYXNoXCIpXG4gICAgZXh0ZW5kID89IHJlcXVpcmUoXCJleHRlbmRcIilcblxuICAgIGxvZ2dlci52ZXJib3NlKCdnZXRPcHRpb25zIHNlbGVjdGlvbnMnLCBzZWxlY3Rpb25zLCBhbGxPcHRpb25zKVxuXG4gICAgIyBsb2dnZXIudmVyYm9zZShzZWxlY3Rpb24sIGFsbE9wdGlvbnMpO1xuICAgICMgUmVkdWNlIGFsbCBvcHRpb25zIGludG8gY29ycmVjdGx5IG1lcmdlZCBvcHRpb25zLlxuICAgIG9wdGlvbnMgPSBfLnJlZHVjZShhbGxPcHRpb25zLCAocmVzdWx0LCBjdXJyT3B0aW9ucykgPT5cbiAgICAgIGNvbGxlY3RlZENvbmZpZyA9IGN1cnJPcHRpb25zLl9kZWZhdWx0IG9yIHt9XG4gICAgICBjb250YWluc05lc3RlZCA9IEBpc05lc3RlZE9wdGlvbnMoY3Vyck9wdGlvbnMpXG4gICAgICBsb2dnZXIudmVyYm9zZShjb250YWluc05lc3RlZCwgY3Vyck9wdGlvbnMpXG4gICAgICAjIGxvZ2dlci52ZXJib3NlKGNvbnRhaW5zTmVzdGVkLCBjdXJyT3B0aW9ucyk7XG5cbiAgICAgICMgQ3JlYXRlIGEgZmxhdCBvYmplY3Qgb2YgY29uZmlnIG9wdGlvbnMgaWYgbmVzdGVkIGZvcm1hdCB3YXMgdXNlZFxuICAgICAgdW5sZXNzIGNvbnRhaW5zTmVzdGVkXG4gICAgICAgICMgXy5tZXJnZSBjb2xsZWN0ZWRDb25maWcsIGN1cnJPcHRpb25zXG4gICAgICAgIGN1cnJPcHRpb25zID0ge1xuICAgICAgICAgIF9kZWZhdWx0OiBjdXJyT3B0aW9uc1xuICAgICAgICB9XG5cbiAgICAgICMgTWVyZ2Ugd2l0aCBzZWxlY3RlZCBvcHRpb25zXG4gICAgICAjIHdoZXJlIGBzZWxlY3Rpb25gIGNvdWxkIGJlIGBodG1sYCwgYGpzYCwgJ2NzcycsIGV0Y1xuICAgICAgZm9yIHNlbGVjdGlvbiBpbiBzZWxlY3Rpb25zXG4gICAgICAgICMgTWVyZ2UgY3VycmVudCBvcHRpb25zIG9uIHRvcCBvZiBmYWxsYmFjayBvcHRpb25zXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKCdvcHRpb25zJywgc2VsZWN0aW9uLCBjdXJyT3B0aW9uc1tzZWxlY3Rpb25dKVxuICAgICAgICBfLm1lcmdlIGNvbGxlY3RlZENvbmZpZywgY3Vyck9wdGlvbnNbc2VsZWN0aW9uXVxuICAgICAgICBsb2dnZXIudmVyYm9zZSgnb3B0aW9ucycsIHNlbGVjdGlvbiwgY29sbGVjdGVkQ29uZmlnKVxuXG4gICAgICBleHRlbmQgcmVzdWx0LCBjb2xsZWN0ZWRDb25maWdcbiAgICAsIHt9KVxuXG5cbiAgICAjIFRPRE86IENsZWFuLlxuICAgICMgVGhlcmUgaXMgYSBidWcgaW4gbm9wdFxuICAgICMgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ucG0vbm9wdC9pc3N1ZXMvMzhcbiAgICAjIGxvZ2dlci52ZXJib3NlKCdwcmUtY2xlYW4nLCBKU09OLnN0cmluZ2lmeShvcHRpb25zKSk7XG4gICAgIyBvcHRpb25zID0gY2xlYW5PcHRpb25zKG9wdGlvbnMsIGtub3duT3B0cyk7XG4gICAgIyBsb2dnZXIudmVyYm9zZSgncG9zdC1jbGVhbicsIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpKTtcbiAgICBvcHRpb25zXG4iXX0=
